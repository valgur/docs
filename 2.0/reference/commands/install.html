



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>conan install &mdash; conan 2.0.7 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="conan 2.0.7 documentation" href="../../index.html"/>
        <link rel="up" title="Commands" href="../commands.html"/>
        <link rel="next" title="conan list" href="list.html"/>
        <link rel="prev" title="conan inspect" href="inspect.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/conan-docs-logo-2.svg" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s new in Conan 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../commands.html">Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cache.html">conan cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">conan config</a></li>
<li class="toctree-l3"><a class="reference internal" href="graph.html">conan graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="inspect.html">conan inspect</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">conan install</a></li>
<li class="toctree-l3"><a class="reference internal" href="list.html">conan list</a></li>
<li class="toctree-l3"><a class="reference internal" href="lock.html">conan lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="profile.html">conan profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="remove.html">conan remove</a></li>
<li class="toctree-l3"><a class="reference internal" href="remote.html">conan remote</a></li>
<li class="toctree-l3"><a class="reference internal" href="search.html">conan search</a></li>
<li class="toctree-l3"><a class="reference internal" href="version.html">conan version</a></li>
<li class="toctree-l3"><a class="reference internal" href="build.html">conan build</a></li>
<li class="toctree-l3"><a class="reference internal" href="create.html">conan create</a></li>
<li class="toctree-l3"><a class="reference internal" href="download.html">conan download</a></li>
<li class="toctree-l3"><a class="reference internal" href="editable.html">conan editable</a></li>
<li class="toctree-l3"><a class="reference internal" href="export.html">conan export</a></li>
<li class="toctree-l3"><a class="reference internal" href="export-pkg.html">conan export-pkg</a></li>
<li class="toctree-l3"><a class="reference internal" href="new.html">conan new</a></li>
<li class="toctree-l3"><a class="reference internal" href="source.html">conan source</a></li>
<li class="toctree-l3"><a class="reference internal" href="test.html">conan test</a></li>
<li class="toctree-l3"><a class="reference internal" href="upload.html">conan upload</a></li>
<li class="toctree-l3"><a class="reference internal" href="formatters/graph_info_json_formatter.html">Formatter: Graph-info JSON</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conan_server.html">Conan Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p><a href="https://conan.io/#signUp" target="_blank">Sign up for release updates</a></p>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
                 
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../commands.html">Commands</a> &raquo;</li>
        
      <li>conan install</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/commands/install.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Recipe Hacking no. 2! Building on what we learnt during the first installment we will be working on more Conan 2.0 Migration! We'll start by reviewing some open pull requests and hopefully tackle a CMake example. <a
            href=https://jfrog.zoom.us/webinar/register/WN_grFhqH0yRBeIfJmBvQoPJw> Register here to attend.</a></p>
          </div>-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="conan-install">
<span id="reference-commands-install"></span><h1>conan install<a class="headerlink" href="#conan-install" title="Permalink to this headline">¶</a></h1>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ conan install -h
usage: conan install [-h] [-v [V]] [-f FORMAT] [--name NAME]
                     [--version VERSION] [--user USER] [--channel CHANNEL]
                     [--requires REQUIRES] [--tool-requires TOOL_REQUIRES]
                     [-b BUILD] [-r REMOTE | -nr] [-u] [-o OPTIONS_HOST]
                     [-o:b OPTIONS_BUILD] [-o:h OPTIONS_HOST]
                     [-pr PROFILE_HOST] [-pr:b PROFILE_BUILD]
                     [-pr:h PROFILE_HOST] [-s SETTINGS_HOST]
                     [-s:b SETTINGS_BUILD] [-s:h SETTINGS_HOST] [-c CONF_HOST]
                     [-c:b CONF_BUILD] [-c:h CONF_HOST] [-l LOCKFILE]
                     [--lockfile-partial] [--lockfile-out LOCKFILE_OUT]
                     [--lockfile-packages] [--lockfile-clean]
                     [--lockfile-overrides LOCKFILE_OVERRIDES] [-g GENERATOR]
                     [-of OUTPUT_FOLDER] [-d DEPLOYER]
                     [--deployer-folder DEPLOYER_FOLDER] [--build-require]
                     [path]

Install the requirements specified in a recipe (conanfile.py or conanfile.txt).

It can also be used to install a concrete package specifying a
reference. If any requirement is not found in the local cache, it will
retrieve the recipe from a remote, looking for it sequentially in the
configured remotes. When the recipes have been downloaded it will try
to download a binary package matching the specified settings, only from
the remote from which the recipe was retrieved. If no binary package is
found, it can be built from sources using the &#39;--build&#39; option. When
the package is installed, Conan will write the files for the specified
generators.

positional arguments:
  path                  Path to a folder containing a recipe (conanfile.py or
                        conanfile.txt) or to a recipe file. e.g.,
                        ./my_project/conanfile.txt.

optional arguments:
  -h, --help            show this help message and exit
  -v [V]                Level of detail of the output. Valid options from less
                        verbose to more verbose: -vquiet, -verror, -vwarning,
                        -vnotice, -vstatus, -v or -vverbose, -vv or -vdebug,
                        -vvv or -vtrace
  -f FORMAT, --format FORMAT
                        Select the output format: json
  --name NAME           Provide a package name if not specified in conanfile
  --version VERSION     Provide a package version if not specified in
                        conanfile
  --user USER           Provide a user if not specified in conanfile
  --channel CHANNEL     Provide a channel if not specified in conanfile
  --requires REQUIRES   Directly provide requires instead of a conanfile
  --tool-requires TOOL_REQUIRES
                        Directly provide tool-requires instead of a conanfile
  -b BUILD, --build BUILD
                        Optional, specify which packages to build from source.
                        Combining multiple &#39;--build&#39; options on one command
                        line is allowed. Possible values: --build=&quot;*&quot; Force
                        build from source for all packages. --build=never
                        Disallow build for all packages, use binary packages
                        or fail if a binary package is not found. Cannot be
                        combined with other &#39;--build&#39; options. --build=missing
                        Build packages from source whose binary package is not
                        found. --build=cascade Build packages from source that
                        have at least one dependency being built from source.
                        --build=[pattern] Build packages from source whose
                        package reference matches the pattern. The pattern
                        uses &#39;fnmatch&#39; style wildcards. --build=~[pattern]
                        Excluded packages, which will not be built from the
                        source, whose package reference matches the pattern.
                        The pattern uses &#39;fnmatch&#39; style wildcards.
                        --build=missing:[pattern] Build from source if a
                        compatible binary does not exist, only for packages
                        matching pattern.
  -r REMOTE, --remote REMOTE
                        Look in the specified remote or remotes server
  -nr, --no-remote      Do not use remote, resolve exclusively in the cache
  -u, --update          Will check the remote and in case a newer version
                        and/or revision of the dependencies exists there, it
                        will install those in the local cache. When using
                        version ranges, it will install the latest version
                        that satisfies the range. Also, if using revisions, it
                        will update to the latest revision for the resolved
                        version range.
  -o OPTIONS_HOST, --options OPTIONS_HOST
                        Define options values (host machine), e.g.: -o
                        Pkg:with_qt=true
  -o:b OPTIONS_BUILD, --options:build OPTIONS_BUILD
                        Define options values (build machine), e.g.: -o:b
                        Pkg:with_qt=true
  -o:h OPTIONS_HOST, --options:host OPTIONS_HOST
                        Define options values (host machine), e.g.: -o:h
                        Pkg:with_qt=true
  -pr PROFILE_HOST, --profile PROFILE_HOST
                        Apply the specified profile to the host machine
  -pr:b PROFILE_BUILD, --profile:build PROFILE_BUILD
                        Apply the specified profile to the build machine
  -pr:h PROFILE_HOST, --profile:host PROFILE_HOST
                        Apply the specified profile to the host machine
  -s SETTINGS_HOST, --settings SETTINGS_HOST
                        Settings to build the package, overwriting the
                        defaults (host machine). e.g.: -s compiler=gcc
  -s:b SETTINGS_BUILD, --settings:build SETTINGS_BUILD
                        Settings to build the package, overwriting the
                        defaults (build machine). e.g.: -s:b compiler=gcc
  -s:h SETTINGS_HOST, --settings:host SETTINGS_HOST
                        Settings to build the package, overwriting the
                        defaults (host machine). e.g.: -s:h compiler=gcc
  -c CONF_HOST, --conf CONF_HOST
                        Configuration to build the package, overwriting the
                        defaults (host machine). e.g.: -c
                        tools.cmake.cmaketoolchain:generator=Xcode
  -c:b CONF_BUILD, --conf:build CONF_BUILD
                        Configuration to build the package, overwriting the
                        defaults (build machine). e.g.: -c:b
                        tools.cmake.cmaketoolchain:generator=Xcode
  -c:h CONF_HOST, --conf:host CONF_HOST
                        Configuration to build the package, overwriting the
                        defaults (host machine). e.g.: -c:h
                        tools.cmake.cmaketoolchain:generator=Xcode
  -l LOCKFILE, --lockfile LOCKFILE
                        Path to a lockfile. Use --lockfile=&quot;&quot; to avoid
                        automatic use of existing &#39;conan.lock&#39; file
  --lockfile-partial    Do not raise an error if some dependency is not found
                        in lockfile
  --lockfile-out LOCKFILE_OUT
                        Filename of the updated lockfile
  --lockfile-packages   Lock package-id and package-revision information
  --lockfile-clean      Remove unused entries from the lockfile
  --lockfile-overrides LOCKFILE_OVERRIDES
                        Overwrite lockfile overrides
  -g GENERATOR, --generator GENERATOR
                        Generators to use
  -of OUTPUT_FOLDER, --output-folder OUTPUT_FOLDER
                        The root output folder for generated and build files
  -d DEPLOYER, --deployer DEPLOYER
                        Deploy using the provided deployer to the output
                        folder
  --deployer-folder DEPLOYER_FOLDER
                        Deployer output folder, base build folder by default
                        if not set
  --build-require       Whether the provided reference is a build-require
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command is one of the main Conan commands, and it is used to resolve and install dependencies.</p>
<p>This command does the following:</p>
<ul class="simple">
<li>Compute the whole dependency graph, for the current configuration defined by settings, options, profiles and configuration.
It resolves version ranges, transitive dependencies, conditional requirements, etc, to build the dependency graph.</li>
<li>Evaluate the existence of binaries for every package in the graph, whether or not there are precompiled binaries to download, or if
they should be built from sources (as directed by the <code class="docutils literal notranslate"><span class="pre">--build</span></code> argument). If binaries are missing, it will not recompute
the dependency graph to try to fallback to previous versions that contain binaries for that configuration. If a certain
dependency version is desired, it should be explicitly required.</li>
<li>Download precompiled binaries, or build binaries from sources in the local cache, in the right order for the dependency graph.</li>
<li>Create the necessary files as requested by the “generators”, so build systems and other tools can locate the locally installed dependencies</li>
<li>Optionally, execute the desired <code class="docutils literal notranslate"><span class="pre">deployers</span></code>.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>Check the <a class="reference internal" href="formatters/graph_info_json_formatter.html#reference-commands-graph-info-json-format"><span class="std std-ref">JSON format output</span></a> for this command.</li>
</ul>
</div>
<div class="section" id="conanfile-path-or-requires">
<h2>Conanfile path or –requires<a class="headerlink" href="#conanfile-path-or-requires" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command can use 2 different origins for information. The first one is using a local <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>
or <code class="docutils literal notranslate"><span class="pre">conanfile.txt</span></code>, containing definitions of the dependencies and generators to be used.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ conan install .  # there is a conanfile.txt or a conanfile.py in the cwd
$ conan install conanfile.py  # also works, direct reference file
$ conan install myconan.txt  # explicit custom name
$ conan install myfolder  # there is a conanfile in &quot;myfolder&quot; folder
</pre></div>
</div>
<p>Even if it is possible to use a custom name, in the general case, it is recommended to use the default <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>
name, located in the repository root, so users can do a straightforward <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">...</span> <span class="pre">``</span> <span class="pre">+</span> <span class="pre">``conan</span> <span class="pre">install</span> <span class="pre">.</span></code></p>
<p>The other possibility is to not have a <code class="docutils literal notranslate"><span class="pre">conanfile</span></code> at all, and define the requirements to be installed directly in the
command line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># Install the zlib/1.2.13 library
$ conan install --requires=zlib/1.2.13
# Install the zlib/1.2.13 and bzip2/1.0.8 libraries
$ conan install --requires=zlib/1.2.13 --requires=bzip2/1.0.8
# Install the cmake/3.23.5 and ninja/1.11.0 tools
$ conan install --tool-requires=cmake/3.23.5 --tool-requires=ninja/1.11.0
# Install the zlib/1.2.13 library and ninja/1.11.0 tool
$ conan install --requires=zlib/1.2.13 --tool-requires=ninja/1.11.0
</pre></div>
</div>
<p>In the general case, it is recommended to use a <code class="docutils literal notranslate"><span class="pre">conanfile</span></code> instead of defining things in the command line.</p>
</div>
<div class="section" id="profiles-settings-options-conf">
<span id="reference-commands-install-composition"></span><h2>Profiles, Settings, Options, Conf<a class="headerlink" href="#profiles-settings-options-conf" title="Permalink to this headline">¶</a></h2>
<p>There are several arguments that are used to define the effective profiles that will be used, both for the “build”
and “host” contexts.</p>
<p>By default the arguments refer to the “host” context, so <code class="docutils literal notranslate"><span class="pre">--settings:host,</span> <span class="pre">-s:h</span></code> is totally equivalent to
<code class="docutils literal notranslate"><span class="pre">--settings,</span> <span class="pre">-s</span></code>. Also, by default, the <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command will use the <code class="docutils literal notranslate"><span class="pre">default</span></code> profile both for the
“build” and “host” context. That means that if a profile with the “default” name has not been created, it will error.</p>
<p>Multiple definitions of profiles can be passed as arguments, and they will compound from left to right (right has the
highest priority)</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># The values of myprofile3 will have higher priority
$ conan install . -pr=myprofile1 -pr=myprofile2 -pr=myprofile3
</pre></div>
</div>
<p>If values for any of <code class="docutils literal notranslate"><span class="pre">settings</span></code>, <code class="docutils literal notranslate"><span class="pre">options</span></code> and <code class="docutils literal notranslate"><span class="pre">conf</span></code> are provided in the command line, they create a profile that
is composed with the other provided <code class="docutils literal notranslate"><span class="pre">-pr</span></code> (or the “default” one if not specified) profiles, with higher priority,
not matter what the order of arguments is.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># the final &quot;host&quot; profile will always be build_type=Debug, even if &quot;myprofile&quot;
# says &quot;build_type=Release&quot;
$ conan install . -pr=myprofile -s build_type=Debug
</pre></div>
</div>
</div>
<div class="section" id="generators-and-deployers">
<h2>Generators and deployers<a class="headerlink" href="#generators-and-deployers" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">-g</span></code> argument allows to define in the command line the different built-in generators to be used:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ conan install --requires=zlib/1.2.13 -g CMakeDeps -g CMakeToolchain
</pre></div>
</div>
<p>Note that in the general case, the recommended approach is to have the <code class="docutils literal notranslate"><span class="pre">generators</span></code> defined in the <code class="docutils literal notranslate"><span class="pre">conanfile</span></code>,
and only for the <code class="docutils literal notranslate"><span class="pre">--requires</span></code> use case, it would be more necessary as command line argument.</p>
<p>Generators are intended to create files for the build systems to locate the dependencies, while the <code class="docutils literal notranslate"><span class="pre">deployers</span></code>
main use case is to copy files from the Conan cache to user space, and performing any other custom operations over the dependency graph,
like collecting licenses, generating reports, deploying binaries to the system, etc. The syntax for deployers is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># does a full copy of the dependencies binaries to the current user folder
$ conan install . --deployer=full_deploy
</pre></div>
</div>
<p>There are 2 built-in deployers:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">full_deploy</span></code> does a complete copy of the dependencies binaries in the local folder, with a minimal folder
structure to avoid conflicts between files and artifacts of different packages</li>
<li><code class="docutils literal notranslate"><span class="pre">direct_deploy</span></code> does a copy of only the immediate direct dependencies, but does not include the transitive
dependencies.</li>
</ul>
<p>Some generators might have the capability of redefining the target “package folder”. That means that if some other
generator like <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> is used that is pointing to the packages, it will be pointing to the local deployed
copy, and not to the original packages in the Conan cache. See the full example in <a class="reference internal" href="../../examples/extensions/deployers/dev/development_deploy.html#examples-extensions-builtin-deployers-development"><span class="std std-ref">Creating a Conan-agnostic deploy of dependencies for developer use</span></a>.</p>
<p>It is also possible, and it is a powerful extension point, to write custom user deployers.
Read more about custom deployers in <a class="reference internal" href="../extensions/deployers.html#reference-extensions-deployers"><span class="std std-ref">Deployers</span></a>.</p>
</div>
<div class="section" id="name-version-user-channel">
<h2>Name, version, user, channel<a class="headerlink" href="#name-version-user-channel" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command provides optional arguments for <code class="docutils literal notranslate"><span class="pre">--name,</span> <span class="pre">--version,</span> <span class="pre">--user,</span> <span class="pre">--channel</span></code>. These
arguments might not be necessary in the majority of cases. Never for <code class="docutils literal notranslate"><span class="pre">conanfile.txt</span></code> and for <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>
only in the case that they are not defined in the recipe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.scm</span> <span class="kn">import</span> <span class="n">Version</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mypkg&quot;</span>

    <span class="k">def</span> <span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">Version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="s2">&quot;3.23&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># If we don&#39;t specify ``--version``, it will be None and it will fail
$ conan install . --version=3.24
</pre></div>
</div>
</div>
<div class="section" id="lockfiles">
<h2>Lockfiles<a class="headerlink" href="#lockfiles" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command has several arguments to load and produce lockfiles.
By default, if a <code class="docutils literal notranslate"><span class="pre">conan.lock</span></code> file is located beside the recipe or in the current working directory
if no path is provided, will be used as an input lockfile.</p>
<p>Lockfiles are strict by default, that means that
if there is some <code class="docutils literal notranslate"><span class="pre">requires</span></code> and it cannot find a matching locked reference in the lockfile, it will error
and stop. For cases where it is expected that the lockfile will not be complete, as there might be new
dependencies, the <code class="docutils literal notranslate"><span class="pre">--lockfile-partial</span></code> argument can be used.</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> will not generate an output lockfile, but if the <code class="docutils literal notranslate"><span class="pre">--lockfile-out</span></code> argument
is provided, pointing to a filename, like <code class="docutils literal notranslate"><span class="pre">--lockfile-out=result.lock</span></code>, then a lockfile will be generated
from the current dependency graph. If <code class="docutils literal notranslate"><span class="pre">--lockfile-clean</span></code> argument is provided, all versions and revisions
not used in the current dependency graph will be dropped from the resulting lockfile.</p>
<p>Let’s say that we already have a <code class="docutils literal notranslate"><span class="pre">conan.lock</span></code> input lockfile, but we just added a new <code class="docutils literal notranslate"><span class="pre">requires</span> <span class="pre">=</span> <span class="pre">&quot;newpkg/1.0&quot;</span></code>
to a new dependency. We could resolve the dependencies, locking all the previously locked versions, while allowing
to resolve the new one, which was not previously present in the lockfile, and store it in a new location, or overwrite the existing lockfile:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># --lockfile=conan.lock is the default, not necessary
$ conan install . --lockfile=conan.lock --lockfile-partial --lockfile-out=conan.lock
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--lockfile-packages</span></code> argument allows to create lockfiles that also lock down to the package revision, but
it should not be necessary in the vast majority of cases, so it is discouraged in the general case.</p>
<p>Also, it is likely that the majority of lockfile operations are better managed by the <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span></code> command.</p>
<p>Read more about lockfiles in <a class="reference internal" href="../../tutorial/consuming_packages/intro_to_versioning.html#tutorial-consuming-packages-versioning-lockfiles"><span class="std std-ref">Lockfiles</span></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>Read the tutorial about the <a class="reference internal" href="../../tutorial/developing_packages/local_package_development_flow.html#local-package-development-flow"><span class="std std-ref">local package developement flow</span></a>.</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="list.html" class="btn btn-neutral float-right" title="conan list" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="inspect.html" class="btn btn-neutral" title="conan inspect" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2023, JFrog.
      Last updated on Jul 12, 2023.
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 2.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
            
                <dd><a href="/2.0/index.html">2.0</a></dd>
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
            
                <dd><a href="/2/index.html">2</a></dd>
                   
        
        <br>
        
                   
        
            
                <dd><a href="/1/index.html">1</a></dd>
                   
        
            
                <dd><a href="/en/1.60/index.html">1.60</a></dd>
                   
        
            
                <dd><a href="/en/1.59/index.html">1.59</a></dd>
                   
        
            
                <dd><a href="/en/1.58/index.html">1.58</a></dd>
                   
        
            
                <dd><a href="/en/1.57/index.html">1.57</a></dd>
                   
        
            
                <dd><a href="/en/1.56/index.html">1.56</a></dd>
                   
        
            
                <dd><a href="/en/1.55/index.html">1.55</a></dd>
                   
        
            
                <dd><a href="/en/1.54/index.html">1.54</a></dd>
                   
        
            
                <dd><a href="/en/1.53/index.html">1.53</a></dd>
                   
        
            
                <dd><a href="/en/1.52/index.html">1.52</a></dd>
                   
        
            
                <dd><a href="/en/1.51/index.html">1.51</a></dd>
                   
        
            
                <dd><a href="/en/1.50/index.html">1.50</a></dd>
                   
        
            
                <dd><a href="/en/1.49/index.html">1.49</a></dd>
                   
        
            
                <dd><a href="/en/1.48/index.html">1.48</a></dd>
                   
        
            
                <dd><a href="/en/1.47/index.html">1.47</a></dd>
                   
        
            
                <dd><a href="/en/1.46/index.html">1.46</a></dd>
                   
        
            
                <dd><a href="/en/1.45/index.html">1.45</a></dd>
                   
        
            
                <dd><a href="/en/1.44/index.html">1.44</a></dd>
                   
        
            
                <dd><a href="/en/1.43/index.html">1.43</a></dd>
                   
        
            
                <dd><a href="/en/1.42/index.html">1.42</a></dd>
                   
        
            
                <dd><a href="/en/1.41/index.html">1.41</a></dd>
                   
        
            
                <dd><a href="/en/1.40/index.html">1.40</a></dd>
                   
        
            
                <dd><a href="/en/1.39/index.html">1.39</a></dd>
                   
        
            
                <dd><a href="/en/1.38/index.html">1.38</a></dd>
                   
        
            
                <dd><a href="/en/1.37/index.html">1.37</a></dd>
                   
        
            
                <dd><a href="/en/1.36/index.html">1.36</a></dd>
                   
        
            
                <dd><a href="/en/1.35/index.html">1.35</a></dd>
                   
        
            
                <dd><a href="/en/1.34/index.html">1.34</a></dd>
                   
        
            
                <dd><a href="/en/1.33/index.html">1.33</a></dd>
                   
        
            
                <dd><a href="/en/1.32/index.html">1.32</a></dd>
                   
        
            
                <dd><a href="/en/1.31/index.html">1.31</a></dd>
                   
        
            
                <dd><a href="/en/1.30/index.html">1.30</a></dd>
                   
        
            
                <dd><a href="/en/1.29/index.html">1.29</a></dd>
                   
        
            
                <dd><a href="/en/1.28/index.html">1.28</a></dd>
                   
        
            
                <dd><a href="/en/1.27/index.html">1.27</a></dd>
                   
        
            
                <dd><a href="/en/1.26/index.html">1.26</a></dd>
                   
        
            
                <dd><a href="/en/1.25/index.html">1.25</a></dd>
                   
        
            
                <dd><a href="/en/1.24/index.html">1.24</a></dd>
                   
        
            
                <dd><a href="/en/1.23/index.html">1.23</a></dd>
                   
        
            
                <dd><a href="/en/1.22/index.html">1.22</a></dd>
                   
        
            
                <dd><a href="/en/1.21/index.html">1.21</a></dd>
                   
        
            
                <dd><a href="/en/1.20/index.html">1.20</a></dd>
                   
        
            
                <dd><a href="/en/1.19/index.html">1.19</a></dd>
                   
        
            
                <dd><a href="/en/1.18/index.html">1.18</a></dd>
                   
        
            
                <dd><a href="/en/1.17/index.html">1.17</a></dd>
                   
        
            
                <dd><a href="/en/1.16/index.html">1.16</a></dd>
                   
        
            
                <dd><a href="/en/1.15/index.html">1.15</a></dd>
                   
        
            
                <dd><a href="/en/1.14/index.html">1.14</a></dd>
                   
        
            
                <dd><a href="/en/1.13/index.html">1.13</a></dd>
                   
        
            
                <dd><a href="/en/1.12/index.html">1.12</a></dd>
                   
        
            
                <dd><a href="/en/1.11/index.html">1.11</a></dd>
                   
        
            
                <dd><a href="/en/1.10/index.html">1.10</a></dd>
                   
        
            
                <dd><a href="/en/1.9/index.html">1.9</a></dd>
                   
        
            
                <dd><a href="/en/1.8/index.html">1.8</a></dd>
                   
        
            
                <dd><a href="/en/1.7/index.html">1.7</a></dd>
                   
        
            
                <dd><a href="/en/1.6/index.html">1.6</a></dd>
                   
        
            
                <dd><a href="/en/1.5/index.html">1.5</a></dd>
                   
        
            
                <dd><a href="/en/1.4/index.html">1.4</a></dd>
                   
        
            
                <dd><a href="/en/1.3/index.html">1.3</a></dd>
                   
        
                   
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.0/conan.pdf">PDF</a></dd> 
               
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../_static/js/modernizr.min.js"></script>
  <script src="../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("2.0");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>