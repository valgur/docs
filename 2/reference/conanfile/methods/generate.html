



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>generate() &mdash; conan 2.0.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="conan 2.0.9 documentation" href="../../../index.html"/>
        <link rel="up" title="Methods" href="../methods.html"/>
        <link rel="next" title="init()" href="init.html"/>
        <link rel="prev" title="export_sources()" href="export_sources.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/conan-docs-logo-2.svg" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../conanfile.html">conanfile.py</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../attributes.html">Attributes</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../methods.html">Methods</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="build.html">build()</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_id.html">build_id()</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_requirements.html">build_requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="compatibility.html">compatibility()</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure.html">configure()</a></li>
<li class="toctree-l4"><a class="reference internal" href="config_options.html">config_options()</a></li>
<li class="toctree-l4"><a class="reference internal" href="export.html">export()</a></li>
<li class="toctree-l4"><a class="reference internal" href="export_sources.html">export_sources()</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">generate()</a></li>
<li class="toctree-l4"><a class="reference internal" href="init.html">init()</a></li>
<li class="toctree-l4"><a class="reference internal" href="layout.html">layout()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package.html">package()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package_id.html">package_id()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package_info.html">package_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="requirements.html">requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="requirements.html#package-type-trait-inferring">package_type trait inferring</a></li>
<li class="toctree-l4"><a class="reference internal" href="requirements.html#default-traits-for-each-kind-of-requires">Default traits for each kind of requires</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_name.html">set_name()</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_version.html">set_version()</a></li>
<li class="toctree-l4"><a class="reference internal" href="source.html">source()</a></li>
<li class="toctree-l4"><a class="reference internal" href="system_requirements.html">system_requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="test.html">test()</a></li>
<li class="toctree-l4"><a class="reference internal" href="validate.html">validate()</a></li>
<li class="toctree-l4"><a class="reference internal" href="validate_build.html">validate_build()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p><a href="https://conan.io/#signUp" target="_blank">Sign up for release updates</a></p>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
                 
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../../conanfile.html">conanfile.py</a> &raquo;</li>
        
          <li><a href="../methods.html">Methods</a> &raquo;</li>
        
      <li>generate()</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/conanfile/methods/generate.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Recipe Hacking no. 2! Building on what we learnt during the first installment we will be working on more Conan 2.0 Migration! We'll start by reviewing some open pull requests and hopefully tackle a CMake example. <a
            href=https://jfrog.zoom.us/webinar/register/WN_grFhqH0yRBeIfJmBvQoPJw> Register here to attend.</a></p>
          </div>-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="generate">
<span id="reference-conanfile-methods-generate"></span><h1>generate()<a class="headerlink" href="#generate" title="Permalink to this headline">¶</a></h1>
<p>This method will run after the computation and installation of the dependency graph. This means that it will
run after a <strong class="command">conan install</strong> command, or when a package is being built in the cache, it will be run before
calling the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method.</p>
<p>The purpose of <code class="docutils literal notranslate"><span class="pre">generate()</span></code> is to prepare the build, generating the necessary files. These files would typically be:</p>
<ul class="simple">
<li>Files containing information to locate the dependencies, as <code class="docutils literal notranslate"><span class="pre">xxxx-config.cmake</span></code> CMake config scripts, or <code class="docutils literal notranslate"><span class="pre">xxxx.props</span></code>
Visual Studio property files.</li>
<li>Environment activation scripts, like <code class="docutils literal notranslate"><span class="pre">conanbuild.bat</span></code> or <code class="docutils literal notranslate"><span class="pre">conanbuild.sh</span></code>, that define all the necessary environment
variables necessary for the build.</li>
<li>Toolchain files, like <code class="docutils literal notranslate"><span class="pre">conan_toolchain.cmake</span></code>, that contains a mapping between the current Conan settings and options, and the
build system specific syntax. <code class="docutils literal notranslate"><span class="pre">CMakePresets.json</span></code> for CMake users using modern versions.</li>
<li>General purpose build information, as a <code class="docutils literal notranslate"><span class="pre">conanbuild.conf</span></code> file that could contain information for some toolchains like autotools to be used in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method.</li>
<li>Specific build system files, like <code class="docutils literal notranslate"><span class="pre">conanvcvars.bat</span></code>, that contains the necessary Visual Studio <em>vcvars.bat</em> call for certain
build systems like Ninja when compiling with the Microsoft compiler.</li>
</ul>
<p>The idea is that the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method implements all the necessary logic, making both the user manual builds after a <strong class="command">conan install</strong>
very straightforward, and also the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method logic simpler. The build produced by a user in their local flow should result in
exactly the same one as the build done in the cache with a <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">create</span></code> without effort.</p>
<p>Generation of files happens in the <code class="docutils literal notranslate"><span class="pre">generators_folder</span></code> as defined by the current layout.</p>
<p>In many cases, the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method might not be necessary, and declaring the <code class="docutils literal notranslate"><span class="pre">generators</span></code> attribute could be enough:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;CMakeDeps&quot;</span><span class="p">,</span> <span class="s2">&quot;CMakeToolchain&quot;</span>
</pre></div>
</div>
<p>But the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method can explicitly instantiate those generators, use them conditionally (like using one build system in Windows,
and another build system integration in other platforms), customize them, or provide a complete custom
generation.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.cmake</span> <span class="kn">import</span> <span class="n">CMakeToolchain</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">CMakeToolchain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># customize toolchain &quot;tc&quot;</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="c1"># Or provide your own custom logic</span>
</pre></div>
</div>
<p>The current working directory for the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method will be the <code class="docutils literal notranslate"><span class="pre">self.generators_folder</span></code> defined in the current layout.</p>
<p>For custom integrations, putting code in a common <code class="docutils literal notranslate"><span class="pre">python_require</span></code> would be a good way to avoid repetition in
multiple recipes:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.cmake</span> <span class="kn">import</span> <span class="n">CMakeToolchain</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="n">python_requires</span> <span class="o">=</span> <span class="s2">&quot;mygenerator/1.0&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">mygen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_requires</span><span class="p">[</span><span class="s2">&quot;mygenerator&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">MyGenerator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># customize mygen behavior, like mygen.something= True</span>
        <span class="n">mygen</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<p>In case it is necessary to collect or copy some files from the dependencies, it is also possible to do it in the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method, accessing <code class="docutils literal notranslate"><span class="pre">self.dependencies</span></code>.
Listing the different include directories, lib directories from a dependency “mydep” would be possible like this:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">[</span><span class="s2">&quot;mydep&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cpp_info</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;**includedirs:</span><span class="si">{}</span><span class="s2">**&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">includedirs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;**libdirs:</span><span class="si">{}</span><span class="s2">**&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">libdirs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;**libs:</span><span class="si">{}</span><span class="s2">**&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">libs</span><span class="p">))</span>
</pre></div>
</div>
<p>And copying the shared libraries in Windows and OSX to the current build folder, could be done like:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;*.dylib&quot;</span><span class="p">,</span> <span class="n">dep</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libdir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_folder</span><span class="p">)</span>
            <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;*.dll&quot;</span><span class="p">,</span> <span class="n">dep</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libdir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_folder</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Best practices</strong></p>
<ul class="last simple">
<li>Accessing dependencies <code class="docutils literal notranslate"><span class="pre">self.dependencies[&quot;mydep&quot;].package_folder</span></code> is possible, but it will be <code class="docutils literal notranslate"><span class="pre">None</span></code> when the dependency “mydep” is in “editable” mode. If you plan to use editable packages, make sure to always reference the <code class="docutils literal notranslate"><span class="pre">cpp_info.xxxdirs</span></code> instead.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>Follow the <a class="reference internal" href="../../../tutorial/creating_packages/preparing_the_build.html#creating-packages-preparing-the-build"><span class="std std-ref">tutorial about preparing build from source in recipes</span></a>.</li>
</ul>
</div>
<div class="section" id="self-dependencies">
<span id="conan-conanfile-model-dependencies"></span><h2>self.dependencies<a class="headerlink" href="#self-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Conan recipes provide access to their dependencies via the <code class="docutils literal notranslate"><span class="pre">self.dependencies</span></code> attribute.
This attribute is generally used by generators like <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> or <code class="docutils literal notranslate"><span class="pre">MSBuildDeps</span></code> to
generate the necessary files for the build.</p>
<p>This section documents the <code class="docutils literal notranslate"><span class="pre">self.dependencies</span></code> attribute, as it might be used by users
both directly in recipe or indirectly to create custom build integrations and generators.</p>
<div class="section" id="dependencies-interface">
<h3>Dependencies interface<a class="headerlink" href="#dependencies-interface" title="Permalink to this headline">¶</a></h3>
<p>It is possible to access each one of the individual dependencies of the current recipe, with
the following syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;openssl/0.1&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">openssl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">[</span><span class="s2">&quot;openssl&quot;</span><span class="p">]</span>
        <span class="c1"># access to members</span>
        <span class="n">openssl</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">version</span>
        <span class="n">openssl</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">revision</span> <span class="c1"># recipe revision</span>
        <span class="n">openssl</span><span class="o">.</span><span class="n">options</span>
        <span class="n">openssl</span><span class="o">.</span><span class="n">settings</span>
</pre></div>
</div>
<p>Some <strong>important</strong> points:</p>
<ul class="simple">
<li>All the information is <strong>read only</strong>. Any attempt to modify dependencies information is
an error and can raise at any time, even if it doesn’t raise yet.</li>
<li>It is not possible either to call any methods or any attempt to reuse code from the dependencies
via this mechanism.</li>
<li>This information does not exist in some recipe methods, only in those methods that evaluate
after the full dependency graph has been computed. It will not exist in <code class="docutils literal notranslate"><span class="pre">configure()</span></code>, <code class="docutils literal notranslate"><span class="pre">config_options</span></code>,
<code class="docutils literal notranslate"><span class="pre">export()</span></code>, <code class="docutils literal notranslate"><span class="pre">export_source()</span></code>, <code class="docutils literal notranslate"><span class="pre">set_name()</span></code>, <code class="docutils literal notranslate"><span class="pre">set_version()</span></code>, <code class="docutils literal notranslate"><span class="pre">requirements()</span></code>,
<code class="docutils literal notranslate"><span class="pre">build_requirements()</span></code>, <code class="docutils literal notranslate"><span class="pre">system_requirements()</span></code>, <code class="docutils literal notranslate"><span class="pre">source()</span></code>, <code class="docutils literal notranslate"><span class="pre">init()</span></code>, <code class="docutils literal notranslate"><span class="pre">layout()</span></code>.
Any attempt to use it in these methods can raise an error at any time.</li>
<li>At the moment, this information should only be used in <code class="docutils literal notranslate"><span class="pre">generate()</span></code> and <code class="docutils literal notranslate"><span class="pre">validate()</span></code> methods.
For any other use, please submit a Github issue.</li>
</ul>
<p>Not all fields of the dependency conanfile are exposed, the current fields are:</p>
<ul class="simple">
<li><strong>package_folder</strong>: The folder location of the dependency package binary</li>
<li><strong>recipe_folder</strong>: The folder containing the <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> (and other exported files) of the dependency</li>
<li><strong>ref</strong>: An object that contains <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">channel</span></code> and <code class="docutils literal notranslate"><span class="pre">revision</span></code> (recipe revision)</li>
<li><strong>pref</strong>: An object that contains <code class="docutils literal notranslate"><span class="pre">ref</span></code>, <code class="docutils literal notranslate"><span class="pre">package_id</span></code> and <code class="docutils literal notranslate"><span class="pre">revision</span></code> (package revision)</li>
<li><strong>buildenv_info</strong>: <code class="docutils literal notranslate"><span class="pre">Environment</span></code> object with the information of the environment necessary to build</li>
<li><strong>runenv_info</strong>: <code class="docutils literal notranslate"><span class="pre">Environment</span></code> object with the information of the environment necessary to run the app</li>
<li><strong>cpp_info</strong>: includedirs, libdirs, etc for the dependency.</li>
<li><strong>settings</strong>: The actual settings values of this dependency</li>
<li><strong>settings_build</strong>: The actual build settings values of this dependency</li>
<li><strong>options</strong>: The actual options values of this dependency</li>
<li><strong>context</strong>: The context (build, host) of this dependency</li>
<li><strong>conf_info</strong>: Configuration information of this dependency, intended to be applied to consumers.</li>
<li><strong>dependencies</strong>: The transitive dependencies of this dependency</li>
<li><strong>is_build_context</strong>: Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">context</span> <span class="pre">==</span> <span class="pre">&quot;build&quot;</span></code>.</li>
<li><strong>conan_data</strong>: The <code class="docutils literal notranslate"><span class="pre">conan_data</span></code> attribute of the dependency that comes from its <code class="docutils literal notranslate"><span class="pre">conandata.yml</span></code> file</li>
<li><strong>license</strong>: The <code class="docutils literal notranslate"><span class="pre">license</span></code> attribute of the dependency</li>
<li><strong>description</strong>: The <code class="docutils literal notranslate"><span class="pre">description</span></code> attribute of the dependency</li>
<li><strong>homepage</strong>: The <code class="docutils literal notranslate"><span class="pre">homepage</span></code> attribute of the dependency</li>
<li><strong>url</strong>: The <code class="docutils literal notranslate"><span class="pre">url</span></code> attribute of the dependency</li>
</ul>
</div>
<div class="section" id="iterating-dependencies">
<h3>Iterating dependencies<a class="headerlink" href="#iterating-dependencies" title="Permalink to this headline">¶</a></h3>
<p>It is possible to iterate in a dict-like fashion all dependencies of a recipe.
Take into account that <code class="docutils literal notranslate"><span class="pre">self.dependencies</span></code> contains all the current dependencies,
both direct and transitive. Every upstream dependency of the current one that has some
effect on it, will have an entry in this <code class="docutils literal notranslate"><span class="pre">self.dependencies</span></code>.</p>
<p>Iterating the dependencies can be done as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.2.11&quot;</span><span class="p">,</span> <span class="s2">&quot;poco/1.9.4&quot;</span>

<span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">require</span><span class="p">,</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Dependency is direct=</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">require</span><span class="o">.</span><span class="n">direct</span><span class="p">,</span> <span class="n">dependency</span><span class="o">.</span><span class="n">ref</span><span class="p">))</span>
</pre></div>
</div>
<p>will output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>True:<span class="w"> </span>zlib/1.2.11
conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>True:<span class="w"> </span>poco/1.9.4
conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>False:<span class="w"> </span>pcre/8.44
conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>False:<span class="w"> </span>expat/2.4.1
conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>False:<span class="w"> </span>sqlite3/3.35.5
conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>False:<span class="w"> </span>openssl/1.1.1k
conanfile.py<span class="w"> </span><span class="o">(</span>hello/0.1<span class="o">)</span>:<span class="w"> </span>Dependency<span class="w"> </span>is<span class="w"> </span><span class="nv">direct</span><span class="o">=</span>False:<span class="w"> </span>bzip2/1.0.8
</pre></div>
</div>
<p>Where the <code class="docutils literal notranslate"><span class="pre">require</span></code> dictionary key is a “requirement”, and can contain specifiers of the relation
between the current recipe and the dependency. At the moment they can be:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">require.direct</span></code>: boolean, <code class="docutils literal notranslate"><span class="pre">True</span></code> if it is direct dependency or <code class="docutils literal notranslate"><span class="pre">False</span></code> if it is a transitive one.</li>
<li><code class="docutils literal notranslate"><span class="pre">require.build</span></code>: boolean, <code class="docutils literal notranslate"><span class="pre">True</span></code> if it is a <code class="docutils literal notranslate"><span class="pre">build_require</span></code> in the build context, as <code class="docutils literal notranslate"><span class="pre">cmake</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">require.test</span></code>: boolean, <code class="docutils literal notranslate"><span class="pre">True</span></code> if its a <code class="docutils literal notranslate"><span class="pre">build_require</span></code> in the host context (defined with <code class="docutils literal notranslate"><span class="pre">self.test_requires()</span></code>), as <code class="docutils literal notranslate"><span class="pre">gtest</span></code>.</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">dependency</span></code> dictionary value is the read-only object described above that access the dependency attributes.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">self.dependencies</span></code> contains some helpers to filter based on some criteria:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self.dependencies.host</span></code>: Will filter out requires with <code class="docutils literal notranslate"><span class="pre">build=True</span></code>, leaving regular dependencies like <code class="docutils literal notranslate"><span class="pre">zlib</span></code> or <code class="docutils literal notranslate"><span class="pre">poco</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">self.dependencies.direct_host</span></code>: Will filter out requires with <code class="docutils literal notranslate"><span class="pre">build=True</span></code> or <code class="docutils literal notranslate"><span class="pre">direct=False</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">self.dependencies.build</span></code>: Will filter out requires with <code class="docutils literal notranslate"><span class="pre">build=False</span></code>, leaving only <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> in the build context, as <code class="docutils literal notranslate"><span class="pre">cmake</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">self.dependencies.direct_build</span></code>: Will filter out requires with <code class="docutils literal notranslate"><span class="pre">build=False</span></code> or <code class="docutils literal notranslate"><span class="pre">direct=False</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">self.dependencies.test</span></code>: Will filter out requires with <code class="docutils literal notranslate"><span class="pre">build=True</span></code> or with <code class="docutils literal notranslate"><span class="pre">test=False</span></code>, leaving only test requirements as <code class="docutils literal notranslate"><span class="pre">gtest</span></code> in the host context.</li>
</ul>
<p>They can be used in the same way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.2.11&quot;</span><span class="p">,</span> <span class="s2">&quot;poco/1.9.4&quot;</span>

<span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">cmake</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">direct_build</span><span class="p">[</span><span class="s2">&quot;cmake&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">require</span><span class="p">,</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># do something, only build deps here</span>
</pre></div>
</div>
</div>
<div class="section" id="dependencies-cpp-info-interface">
<h3>Dependencies <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> interface<a class="headerlink" href="#dependencies-cpp-info-interface" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> interface is heavily used by build systems to access the data.
This object defines global and per-component attributes to access information like the include
folders:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">cpp_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">[</span><span class="s2">&quot;mydep&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cpp_info</span>
    <span class="n">cpp_info</span><span class="o">.</span><span class="n">includedirs</span>
    <span class="n">cpp_info</span><span class="o">.</span><span class="n">libdirs</span>

    <span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;mycomp&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">includedirs</span>
    <span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;mycomp&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">libdirs</span>
</pre></div>
</div>
<p>All the paths declared in the <code class="docutils literal notranslate"><span class="pre">cppinfo</span></code> object (like <code class="docutils literal notranslate"><span class="pre">cpp_info.includedirs</span></code>) are absolute paths and works whether
the dependency is in the cache or is an <a class="reference internal" href="../../../tutorial/developing_packages/editable_packages.html#editable-packages"><span class="std std-ref">editable package</span></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Read more about the <a class="reference internal" href="package_info.html#conan-conanfile-model-cppinfo"><span class="std std-ref">CppInfo</span></a> model.</p>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="init.html" class="btn btn-neutral float-right" title="init()" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="export_sources.html" class="btn btn-neutral" title="export_sources()" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2023, JFrog.
      Last updated on Jul 28, 2023.
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 2.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
            
                <dd><a href="/2.0/index.html">2.0</a></dd>
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
                   
        
            
                <dd><a href="/2/index.html">2</a></dd>
                   
        
        <br>
        
                   
        
            
                <dd><a href="/1/index.html">1</a></dd>
                   
        
            
                <dd><a href="/en/1.60/index.html">1.60</a></dd>
                   
        
            
                <dd><a href="/en/1.59/index.html">1.59</a></dd>
                   
        
            
                <dd><a href="/en/1.58/index.html">1.58</a></dd>
                   
        
            
                <dd><a href="/en/1.57/index.html">1.57</a></dd>
                   
        
            
                <dd><a href="/en/1.56/index.html">1.56</a></dd>
                   
        
            
                <dd><a href="/en/1.55/index.html">1.55</a></dd>
                   
        
            
                <dd><a href="/en/1.54/index.html">1.54</a></dd>
                   
        
            
                <dd><a href="/en/1.53/index.html">1.53</a></dd>
                   
        
            
                <dd><a href="/en/1.52/index.html">1.52</a></dd>
                   
        
            
                <dd><a href="/en/1.51/index.html">1.51</a></dd>
                   
        
            
                <dd><a href="/en/1.50/index.html">1.50</a></dd>
                   
        
            
                <dd><a href="/en/1.49/index.html">1.49</a></dd>
                   
        
            
                <dd><a href="/en/1.48/index.html">1.48</a></dd>
                   
        
            
                <dd><a href="/en/1.47/index.html">1.47</a></dd>
                   
        
            
                <dd><a href="/en/1.46/index.html">1.46</a></dd>
                   
        
            
                <dd><a href="/en/1.45/index.html">1.45</a></dd>
                   
        
            
                <dd><a href="/en/1.44/index.html">1.44</a></dd>
                   
        
            
                <dd><a href="/en/1.43/index.html">1.43</a></dd>
                   
        
            
                <dd><a href="/en/1.42/index.html">1.42</a></dd>
                   
        
            
                <dd><a href="/en/1.41/index.html">1.41</a></dd>
                   
        
            
                <dd><a href="/en/1.40/index.html">1.40</a></dd>
                   
        
            
                <dd><a href="/en/1.39/index.html">1.39</a></dd>
                   
        
            
                <dd><a href="/en/1.38/index.html">1.38</a></dd>
                   
        
            
                <dd><a href="/en/1.37/index.html">1.37</a></dd>
                   
        
            
                <dd><a href="/en/1.36/index.html">1.36</a></dd>
                   
        
            
                <dd><a href="/en/1.35/index.html">1.35</a></dd>
                   
        
            
                <dd><a href="/en/1.34/index.html">1.34</a></dd>
                   
        
            
                <dd><a href="/en/1.33/index.html">1.33</a></dd>
                   
        
            
                <dd><a href="/en/1.32/index.html">1.32</a></dd>
                   
        
            
                <dd><a href="/en/1.31/index.html">1.31</a></dd>
                   
        
            
                <dd><a href="/en/1.30/index.html">1.30</a></dd>
                   
        
            
                <dd><a href="/en/1.29/index.html">1.29</a></dd>
                   
        
            
                <dd><a href="/en/1.28/index.html">1.28</a></dd>
                   
        
            
                <dd><a href="/en/1.27/index.html">1.27</a></dd>
                   
        
            
                <dd><a href="/en/1.26/index.html">1.26</a></dd>
                   
        
            
                <dd><a href="/en/1.25/index.html">1.25</a></dd>
                   
        
            
                <dd><a href="/en/1.24/index.html">1.24</a></dd>
                   
        
            
                <dd><a href="/en/1.23/index.html">1.23</a></dd>
                   
        
            
                <dd><a href="/en/1.22/index.html">1.22</a></dd>
                   
        
            
                <dd><a href="/en/1.21/index.html">1.21</a></dd>
                   
        
            
                <dd><a href="/en/1.20/index.html">1.20</a></dd>
                   
        
            
                <dd><a href="/en/1.19/index.html">1.19</a></dd>
                   
        
            
                <dd><a href="/en/1.18/index.html">1.18</a></dd>
                   
        
            
                <dd><a href="/en/1.17/index.html">1.17</a></dd>
                   
        
            
                <dd><a href="/en/1.16/index.html">1.16</a></dd>
                   
        
            
                <dd><a href="/en/1.15/index.html">1.15</a></dd>
                   
        
            
                <dd><a href="/en/1.14/index.html">1.14</a></dd>
                   
        
            
                <dd><a href="/en/1.13/index.html">1.13</a></dd>
                   
        
            
                <dd><a href="/en/1.12/index.html">1.12</a></dd>
                   
        
            
                <dd><a href="/en/1.11/index.html">1.11</a></dd>
                   
        
            
                <dd><a href="/en/1.10/index.html">1.10</a></dd>
                   
        
            
                <dd><a href="/en/1.9/index.html">1.9</a></dd>
                   
        
            
                <dd><a href="/en/1.8/index.html">1.8</a></dd>
                   
        
            
                <dd><a href="/en/1.7/index.html">1.7</a></dd>
                   
        
            
                <dd><a href="/en/1.6/index.html">1.6</a></dd>
                   
        
            
                <dd><a href="/en/1.5/index.html">1.5</a></dd>
                   
        
            
                <dd><a href="/en/1.4/index.html">1.4</a></dd>
                   
        
            
                <dd><a href="/en/1.3/index.html">1.3</a></dd>
                   
        
                   
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.0/conan.pdf">PDF</a></dd> 
               
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.0.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../../_static/js/modernizr.min.js"></script>
  <script src="../../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("2.0");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>